spring.application.name=stock

# -------------------------
# i18n / Locale
# -------------------------
spring.messages.basename=messages
spring.web.locale=pt_BR
spring.web.locale-resolver=fixed

# -------------------------
# Web
# -------------------------
server.port=${PORT:8080}

# -------------------------
# CORS (desabilitado por padrão; configure app.cors.allowed-origins para habilitar)
# -------------------------
app.cors.allowed-origins=${CORS_ALLOWED_ORIGINS:http://localhost:4200}
app.cors.allowed-methods=${CORS_ALLOWED_METHODS:GET,POST,PUT,PATCH,DELETE,OPTIONS}
app.cors.allowed-headers=${CORS_ALLOWED_HEADERS:Authorization,Content-Type,Accept,Origin}
app.cors.exposed-headers=${CORS_EXPOSED_HEADERS:}
app.cors.allow-credentials=${CORS_ALLOW_CREDENTIALS:false}
app.cors.max-age=${CORS_MAX_AGE:3600}

# -------------------------
# Datasource (PostgreSQL)
# -------------------------
spring.datasource.url=${DB_URL:jdbc:postgresql://localhost:5432/stockdb}
spring.datasource.username=${DB_USERNAME:postgresql}
spring.datasource.password=${DB_PASSWORD:postgresql}

# -------------------------
# JPA / Hibernate
# -------------------------
spring.jpa.hibernate.ddl-auto=${DDL_AUTO:validate}
spring.jpa.open-in-view=false
spring.jpa.properties.hibernate.jdbc.time_zone=UTC
spring.jpa.properties.hibernate.format_sql=true

# -------------------------
# Flyway (migrations)
# -------------------------
spring.flyway.enabled=true
spring.flyway.locations=classpath:db/migration

# Mostrar SQL (?til em dev)
spring.jpa.show-sql=${SHOW_SQL:true}

# -------------------------
# Logging
# -------------------------
logging.level.org.hibernate.SQL=${HIBERNATE_SQL_LOG_LEVEL:DEBUG}
logging.level.org.hibernate.orm.jdbc.bind=${HIBERNATE_BIND_LOG_LEVEL:TRACE}

# -------------------------
# Feign - NFC-e Scraper
# -------------------------
nfce.scraper.url=${NFCE_SCRAPER_URL:http://localhost:3000}

# (Opcional) timeouts padr?o do Feign (em ms)
#spring.cloud.openfeign.client.config.default.connectTimeout=5000
#spring.cloud.openfeign.client.config.default.readTimeout=15000

# -------------------------
# DevTools (desabilitado por padr?o para evitar problemas de classpath/restart)
# -------------------------
spring.devtools.restart.enabled=${DEVTOOLS_RESTART_ENABLED:false}

# -------------------------
# Actuator
# -------------------------
management.endpoints.web.exposure.include=${MANAGEMENT_EXPOSE:health,info}
management.endpoint.health.show-details=${MANAGEMENT_HEALTH_DETAILS:when_authorized}

# -------------------------
# Swagger / OpenAPI (springdoc)
# -------------------------
springdoc.api-docs.path=/api-docs
springdoc.swagger-ui.path=/swagger-ui
springdoc.swagger-ui.operationsSorter=method
springdoc.swagger-ui.tagsSorter=alpha
